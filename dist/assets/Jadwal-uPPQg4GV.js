import{_ as C,o as d,c as u,a as n,t as f,b as o,n as M,s as I,E as b,w as m,C as j,F as S,f as J,k as B,B as E,b_ as P,cd as te,c1 as ae,ca as O,cb as ie,c3 as ne,c4 as le,c5 as oe,c6 as se,e as re,m as _,i as R,T as de,j as U,q as G,l as ue,g as ce,R as pe}from"./index-IT0w0-03.js";import{s as K}from"./index-BdlwmbEA.js";import{_ as z}from"./Vuelidate-D58-4aDa.js";import{s as X,b as he}from"./index-J9SwwLSJ.js";import{s as T}from"./index-BZEh9QIP.js";import{d as me,g as N,_ as F}from"./Default-rdowlBa5.js";import{s as W,c as fe,b as ge}from"./index-kMO2B_2Z.js";import{r as k}from"./index-DhnhZP77.js";import{s as be}from"./index-7h0g2jJM.js";import{s as we}from"./index-Dn7wboIP.js";import{s as Y}from"./index-D3TYj3W6.js";import{u as Z}from"./index-Cn83LMNj.js";import{c as _e}from"./date-DaizdcBV.js";import{_ as ve}from"./PageHeader-BmhK7qIL.js";import"./index-Co2kFwYe.js";import"./index-D1kxKiUG.js";import"./index-D0k6Dizi.js";import"./index-BdwjZwyA.js";import"./index-CKMnAYYC.js";import"./index-Cg8qX79j.js";import"./index-RjTvz6_0.js";const ke={name:"AddShift",props:{id:Number,nama_shift:String,warna:String,jam_masuk:String,jam_keluar:String}},ye={class:"flex items-center gap-2"};function je(t,e,a,s,i,l){const r=I;return d(),u("div",{style:M({backgroundColor:a.warna}),class:"rounded-md text-white py-3 px-3 flex justify-between items-center cursor-pointer"},[n("div",null,f(a.nama_shift),1),n("div",ye,[e[0]||(e[0]=n("i",{class:"pi pi-clock"},null,-1)),n("p",null,f(a.jam_masuk)+"-"+f(a.jam_keluar),1),o(r,{"aria-controls":"overlay_tmenu",icon:"",unstyled:"",class:"flex justify-center items-center"})])],4)}const Se=C(ke,[["render",je]]),xe={name:"Shift",props:{api:String},data(){return{data:[],loading:!0}},methods:{async getShift(){await b.get(this.api?this.api:"/shift").then(t=>{this.data=t.data.data,this.loading=!1}).catch(t=>{console.log(t)})}},mounted(){this.getShift()}},Ce={key:0,style:{backgroundColor:"#07134F"},class:"rounded-md text-white py-3 px-3 flex justify-between items-center"},Le={class:"flex items-center gap-2"};function De(t,e,a,s,i,l){const r=I;return i.loading?(d(),u("div",Ce,e[0]||(e[0]=[n("div",null," Loading... ",-1)]))):(d(),u("div",{key:1,style:M({backgroundColor:i.data.warna}),class:"rounded-md text-white py-3 px-3 flex justify-between items-center"},[n("div",null,f(i.data.nama_shift),1),n("div",Le,[e[1]||(e[1]=n("i",{class:"pi pi-clock"},null,-1)),n("p",null,f(i.data.jam_masuk)+"-"+f(i.data.jam_keluar),1),o(r,{"aria-controls":"overlay_tmenu",icon:"",unstyled:"",class:"flex justify-center items-center"})])],4))}const He=C(xe,[["render",De]]),Ie={name:"CardJadwalKerja",data(){return{jadwalKerja:null,visible:!1,data:[],dataJadwalKerja:[],shift:[],hari:"",visibleShift:!1,selectedShift:null,selectedShiftId:null,nama_jadwal:"",hasValidated:!1,dialogTitle:""}},validations(){return{nama_jadwal:{required:k}}},watch:{data:"updateData",selectedShift:"updateData",nama_jadwal:"updateData"},computed:{getColors(){var t,e;return((e=(t=this.dataFromAPI)==null?void 0:t.jadwal)==null?void 0:e.map(a=>a.warna))||[]}},methods:{toggleJadwalKerja(){this.visible=!this.visible},handlePost(){this.toggleJadwalKerja(),this.getAllShift(),this.dialogTitle="Tambah Jadwal Kerja"},handleEdit(t){this.toggleJadwalKerja(),this.getAllShift(),this.data=[],this.dialogTitle="Edit Jadwal Kerja",this.jadwalKerja=t,this.getJadwalKerjaById(t)},handleDelete(t){console.log(t),me("/jadwal",t),this.getAllJadwalKerja()},selectShift(t,e){this.selectedShift=t,this.selectedShiftId=e,this.visibleShift=!this.visibleShift},openShift(t){this.hari=t,this.visibleShift=!this.visibleShift},updateData(){if(!this.hari||!this.selectedShiftId)return;const t={hari:this.hari,id_shift:this.selectedShiftId},e=this.data.findIndex(a=>a.hari===this.hari);e!==-1?this.data[e]=t:this.data.push(t),this.hari="",this.selectedShiftId=null},async getAllJadwalKerja(){try{this.dataJadwalKerja=await N("/jadwal"),this.isLoading=!1}catch(t){console.error("Failed to fetch data:",t)}},async getJadwalKerjaById(t){await b.get("jadwal/"+t).then(e=>{this.nama_jadwal=e.data.data.nama_jadwal,this.data=e.data.data.jadwal,this.formIsLoading=!1}).catch(e=>{console.log(e)})},async getAllShift(){await b.get("shift").then(t=>{this.isLoading=!1,this.shift=t.data.data}).catch(t=>{console.log(t)})},async postJadwalKerja(){const t={nama_jadwal:this.nama_jadwal,jadwal:this.data};await b.post("jadwal",t).then(e=>{this.toggleJadwalKerja(),this.getAllJadwalKerja(),this.$toast.add({severity:"success",summary:"Jadwal kerja berhasil ditambahkan!",detail:`Menambahkan jadwal kerja ${e.data.data.nama_jadwal}`,life:5e3})}).catch(e=>{this.$toast.add({severity:"error",summary:"Jadwal kerja gagal ditambahkan!",detail:"Gagal menambahkan jadwal kerja",life:5e3}),this.toggleJadwalKerja(),console.log(e)})},async postJadwalKerjaDefault(){const t={nama_jadwal:this.nama_jadwal,is_default:!0,jadwal:this.data};await b.post("jadwal",t).then(e=>{this.toggleJadwalKerja(),this.getAllJadwalKerja(),this.$toast.add({severity:"success",summary:"Jadwal kerja berhasil ditambahkan!",detail:`Menambahkan jadwal kerja ${e.data.data.nama_jadwal}`,life:5e3})}).catch(e=>{console.log(e),this.toggleJadwalKerja(),this.getAllJadwalKerja(),this.$toast.add({severity:"error",summary:"Jadwal kerja gagal ditambahkan!",detail:"Gagal menambahkan jadwal kerja",life:5e3})})},post(){this.is_default?this.postJadwalKerjaDefault():this.postJadwalKerja()}},mounted(){this.getAllJadwalKerja()}},Ve={class:"flex justify-between"},Me={class:"flex gap-2 flex-wrap"},Je={class:"p-7 grid grid-cols-12 overflow-y-auto"},Be={class:"col-span-12 text-xl mb-6 font-semibold"},Pe={class:"col-span-12 w-full gap-1"},Ee={class:"col-span-12 h-12 flex justify-center overflow-x-auto mb-3 gap-2"},Ke={class:"col-span-12 w-full flex flex-col gap-2 mb-3"},Te={class:"col-span-12 flex justify-end gap-2"},Oe={class:"flex flex-col gap-2 mb-3"},Re={class:"flex justify-end gap-2"};function $e(t,e,a,s,i,l){const r=I,c=W,g=F,v=T,x=X,y=z,L=He,D=K,w=Se;return d(),u(S,null,[o(v,{class:"col-span-12 shadow-md"},{title:m(()=>[n("div",Ve,[e[12]||(e[12]=n("h3",null,"Daftar Jadwal Kantor",-1)),o(r,{icon:"pi pi-plus-circle",label:"Tambah",onClick:e[0]||(e[0]=p=>l.handlePost())})])]),content:m(()=>[o(g,{api:"/jadwal",id:"id_jadwal",dataLuar:i.dataJadwalKerja,onOpenEdit:l.handleEdit,onOpenDelete:l.handleDelete},{default:m(()=>[o(c,{header:"Nama Jadwal"},{body:m(p=>[j(f(p.data.is_default?"Default "+p.data.nama_jadwal:p.data.nama_jadwal),1)]),_:1}),o(c,{header:"Menggunakan Jadwal Kerja",style:{"max-width":"400px"}},{body:m(p=>[n("div",Me,[(d(!0),u(S,null,J(p.data.jadwal,(H,h)=>(d(),u("div",{key:h,class:"color-box",style:M({backgroundColor:H.warna})},f(H.nama_shift+" | "+H.hari),5))),128))])]),_:1})]),_:1},8,["dataLuar","onOpenEdit","onOpenDelete"])]),_:1}),o(D,{visible:i.visible,modal:"",header:"Tambahkan Jadwal Kerja",style:{width:"40rem"}},{container:m(()=>[n("form",Je,[n("p",Be,f(i.dialogTitle),1),n("div",Pe,[o(y,{name:"nama_jadwal",label:"Nama Jadwal",hasValidated:i.hasValidated},{default:m(()=>[o(x,{id:"nama_jadwal",modelValue:i.nama_jadwal,"onUpdate:modelValue":e[1]||(e[1]=p=>i.nama_jadwal=p),class:"col-span-12 max-h-[46px]",invalid:i.hasValidated&&t.v$.nama_jadwal.$invalid},null,8,["modelValue","invalid"])]),_:1},8,["hasValidated"])]),n("div",Ee,[o(r,{label:"Senin",onClick:e[2]||(e[2]=p=>l.openShift("Senin"))}),o(r,{label:"Selasa",onClick:e[3]||(e[3]=p=>l.openShift("Selasa"))}),o(r,{label:"Rabu",onClick:e[4]||(e[4]=p=>l.openShift("Rabu"))}),o(r,{label:"Kamis",onClick:e[5]||(e[5]=p=>l.openShift("Kamis"))}),o(r,{label:"Jum'at",onClick:e[6]||(e[6]=p=>l.openShift("Jumat"))}),o(r,{label:"Sabtu",onClick:e[7]||(e[7]=p=>l.openShift("Sabtu"))}),o(r,{label:"Minggu",onClick:e[8]||(e[8]=p=>l.openShift("Minggu"))})]),n("div",Ke,[e[13]||(e[13]=n("p",null,"Pilih Jadwal Kerja",-1)),(d(!0),u(S,null,J(i.data,p=>(d(),u("div",{key:p.id_shift},[n("p",null,"Hari : "+f(p.hari),1),o(L,{api:`shift/${p.id_shift}`},null,8,["api"])]))),128))]),n("div",Te,[o(r,{type:"button",label:"Cancel",severity:"secondary",onClick:l.toggleJadwalKerja},null,8,["onClick"]),o(r,{type:"button",label:"Save",onClick:e[9]||(e[9]=p=>l.post())})])])]),_:1},8,["visible"]),o(D,{visible:i.visibleShift,"onUpdate:visible":e[11]||(e[11]=p=>i.visibleShift=p),modal:"",header:"Pilih Jadwal Kerja",style:{width:"30rem"}},{default:m(()=>[n("div",Oe,[(d(!0),u(S,null,J(i.shift,p=>(d(),B(w,{key:p.id_shift,id:p.id_shift,nama_shift:p.nama_shift,warna:p.warna,jam_masuk:p.jam_masuk,jam_keluar:p.jam_keluar,onClick:H=>l.selectShift(p.nama_shift,p.id_shift)},null,8,["id","nama_shift","warna","jam_masuk","jam_keluar","onClick"]))),128))]),n("div",Re,[o(r,{type:"button",label:"Cancel",severity:"secondary",onClick:e[10]||(e[10]=p=>i.visibleShift=!1)})])]),_:1},8,["visible"])],64)}const Ae=C(Ie,[["render",$e],["__scopeId","data-v-c3f16bf8"]]);var Ue=function(e){var a=e.dt;return`
.p-colorpicker {
    display: inline-block;
    position: relative;
}

.p-colorpicker-dragging {
    cursor: pointer;
}

.p-colorpicker-preview {
    width: `.concat(a("colorpicker.preview.width"),`;
    height: `).concat(a("colorpicker.preview.height"),`;
    padding: 0;
    border: 0 none;
    border-radius: `).concat(a("colorpicker.preview.border.radius"),`;
    transition: background `).concat(a("colorpicker.transition.duration"),", color ").concat(a("colorpicker.transition.duration"),", border-color ").concat(a("colorpicker.transition.duration"),", outline-color ").concat(a("colorpicker.transition.duration"),", box-shadow ").concat(a("colorpicker.transition.duration"),`;
    outline-color: transparent;
    cursor: pointer;
}

.p-colorpicker-preview:enabled:focus-visible {
    border-color: `).concat(a("colorpicker.preview.focus.border.color"),`;
    box-shadow: `).concat(a("colorpicker.preview.focus.ring.shadow"),`;
    outline: `).concat(a("colorpicker.preview.focus.ring.width")," ").concat(a("colorpicker.preview.focus.ring.style")," ").concat(a("colorpicker.preview.focus.ring.color"),`;
    outline-offset: `).concat(a("colorpicker.preview.focus.ring.offset"),`;
}

.p-colorpicker-panel {
    background: `).concat(a("colorpicker.panel.background"),`;
    border: 1px solid `).concat(a("colorpicker.panel.border.color"),`;
    border-radius: `).concat(a("colorpicker.panel.border.radius"),`;
    box-shadow: `).concat(a("colorpicker.panel.shadow"),`;
    width: 193px;
    height: 166px;
    position: absolute;
    top: 0;
    left: 0;
}

.p-colorpicker-panel-inline {
    box-shadow: none;
    position: static;
}

.p-colorpicker-content {
    position: relative;
}

.p-colorpicker-color-selector {
    width: 150px;
    height: 150px;
    inset-block-start: 8px;
    inset-inline-start: 8px;
    position: absolute;
}

.p-colorpicker-color-background {
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
}

.p-colorpicker-color-handle {
    position: absolute;
    inset-block-start: 0px;
    inset-inline-start: 150px;
    border-radius: 100%;
    width: 10px;
    height: 10px;
    border-width: 1px;
    border-style: solid;
    margin: -5px 0 0 -5px;
    cursor: pointer;
    opacity: 0.85;
    border-color: `).concat(a("colorpicker.handle.color"),`;
}

.p-colorpicker-hue {
    width: 17px;
    height: 150px;
    inset-block-start: 8px;
    inset-inline-start: 167px;
    position: absolute;
    opacity: 0.85;
    background: linear-gradient(0deg,
        red 0,
        #ff0 17%,
        #0f0 33%,
        #0ff 50%,
        #00f 67%,
        #f0f 83%,
        red);
}

.p-colorpicker-hue-handle {
    position: absolute;
    inset-block-start: 150px;
    inset-inline-start: 0px;
    width: 21px;
    margin-inline-start: -2px;
    margin-block-start: -5px;
    height: 10px;
    border-width: 2px;
    border-style: solid;
    opacity: 0.85;
    cursor: pointer;
    border-color: `).concat(a("colorpicker.handle.color"),`;
}
`)},Ge={root:"p-colorpicker p-component",preview:function(e){var a=e.props;return["p-colorpicker-preview",{"p-disabled":a.disabled}]},panel:function(e){var a=e.instance,s=e.props;return["p-colorpicker-panel",{"p-colorpicker-panel-inline":s.inline,"p-disabled":s.disabled,"p-invalid":a.$invalid}]},colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},ze=E.extend({name:"colorpicker",theme:Ue,classes:Ge}),Xe={name:"BaseColorPicker",extends:he,props:{defaultColor:{type:null,default:"ff0000"},inline:{type:Boolean,default:!1},format:{type:String,default:"hex"},tabindex:{type:String,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},inputId:{type:String,default:null},panelClass:null,overlayClass:null},style:ze,provide:function(){return{$pcColorPicker:this,$parentInstance:this}}},q={name:"ColorPicker",extends:Xe,inheritAttrs:!1,emits:["change","show","hide"],data:function(){return{overlayVisible:!1}},hsbValue:null,outsideClickListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,scrollHandler:null,resizeListener:null,hueDragging:null,colorDragging:null,selfUpdate:null,picker:null,colorSelector:null,colorHandle:null,hueView:null,hueHandle:null,watch:{modelValue:{immediate:!0,handler:function(e){this.hsbValue=this.toHSB(e),this.selfUpdate?this.selfUpdate=!1:this.updateUI()}}},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindDragListeners(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.picker&&this.autoZIndex&&P.clear(this.picker),this.clearRefs()},mounted:function(){this.updateUI()},methods:{pickColor:function(e){var a=this.colorSelector.getBoundingClientRect(),s=a.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),i=a.left+document.body.scrollLeft,l=Math.floor(100*Math.max(0,Math.min(150,(e.pageX||e.changedTouches[0].pageX)-i))/150),r=Math.floor(100*(150-Math.max(0,Math.min(150,(e.pageY||e.changedTouches[0].pageY)-s)))/150);this.hsbValue=this.validateHSB({h:this.hsbValue.h,s:l,b:r}),this.selfUpdate=!0,this.updateColorHandle(),this.updateInput(),this.updateModel(e)},pickHue:function(e){var a=this.hueView.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.hsbValue=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,(e.pageY||e.changedTouches[0].pageY)-a)))/150),s:100,b:100}),this.selfUpdate=!0,this.updateColorSelector(),this.updateHue(),this.updateModel(e),this.updateInput()},updateModel:function(e){var a=this.d_value;switch(this.format){case"hex":a=this.HSBtoHEX(this.hsbValue);break;case"rgb":a=this.HSBtoRGB(this.hsbValue);break;case"hsb":a=this.hsbValue;break}this.writeValue(a,e),this.$emit("change",{event:e,value:a})},updateColorSelector:function(){if(this.colorSelector){var e=this.validateHSB({h:this.hsbValue.h,s:100,b:100});this.colorSelector.style.backgroundColor="#"+this.HSBtoHEX(e)}},updateColorHandle:function(){this.colorHandle&&(this.colorHandle.style.left=Math.floor(150*this.hsbValue.s/100)+"px",this.colorHandle.style.top=Math.floor(150*(100-this.hsbValue.b)/100)+"px")},updateHue:function(){this.hueHandle&&(this.hueHandle.style.top=Math.floor(150-150*this.hsbValue.h/360)+"px")},updateInput:function(){this.$refs.input&&(this.$refs.input.style.backgroundColor="#"+this.HSBtoHEX(this.hsbValue))},updateUI:function(){this.updateHue(),this.updateColorHandle(),this.updateInput(),this.updateColorSelector()},validateHSB:function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},validateRGB:function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},validateHEX:function(e){var a=6-e.length;if(a>0){for(var s=[],i=0;i<a;i++)s.push("0");s.push(e),e=s.join("")}return e},HEXtoRGB:function(e){var a=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:a>>16,g:(a&65280)>>8,b:a&255}},HEXtoHSB:function(e){return this.RGBtoHSB(this.HEXtoRGB(e))},RGBtoHSB:function(e){var a={h:0,s:0,b:0},s=Math.min(e.r,e.g,e.b),i=Math.max(e.r,e.g,e.b),l=i-s;return a.b=i,a.s=i!==0?255*l/i:0,a.s!==0?e.r===i?a.h=(e.g-e.b)/l:e.g===i?a.h=2+(e.b-e.r)/l:a.h=4+(e.r-e.g)/l:a.h=-1,a.h*=60,a.h<0&&(a.h+=360),a.s*=100/255,a.b*=100/255,a},HSBtoRGB:function(e){var a={r:null,g:null,b:null},s=Math.round(e.h),i=Math.round(e.s*255/100),l=Math.round(e.b*255/100);if(i===0)a={r:l,g:l,b:l};else{var r=l,c=(255-i)*l/255,g=(r-c)*(s%60)/60;s===360&&(s=0),s<60?(a.r=r,a.b=c,a.g=c+g):s<120?(a.g=r,a.b=c,a.r=r-g):s<180?(a.g=r,a.r=c,a.b=c+g):s<240?(a.b=r,a.r=c,a.g=r-g):s<300?(a.b=r,a.g=c,a.r=c+g):s<360?(a.r=r,a.g=c,a.b=r-g):(a.r=0,a.g=0,a.b=0)}return{r:Math.round(a.r),g:Math.round(a.g),b:Math.round(a.b)}},RGBtoHEX:function(e){var a=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var s in a)a[s].length===1&&(a[s]="0"+a[s]);return a.join("")},HSBtoHEX:function(e){return this.RGBtoHEX(this.HSBtoRGB(e))},toHSB:function(e){var a;if(e)switch(this.format){case"hex":a=this.HEXtoHSB(e);break;case"rgb":a=this.RGBtoHSB(e);break;case"hsb":a=e;break}else a=this.HEXtoHSB(this.defaultColor);return a},onOverlayEnter:function(e){this.updateUI(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&P.set("overlay",e,this.baseZIndex,this.$primevue.config.zIndex.overlay),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.clearRefs(),this.$emit("hide")},onOverlayAfterLeave:function(e){this.autoZIndex&&P.clear(e)},alignOverlay:function(){this.appendTo==="self"?te(this.picker,this.$refs.input):ae(this.picker,this.$refs.input)},onInputClick:function(){this.disabled||(this.overlayVisible=!this.overlayVisible)},onInputKeydown:function(e){switch(e.code){case"Space":this.overlayVisible=!this.overlayVisible,e.preventDefault();break;case"Escape":case"Tab":this.overlayVisible=!1;break}},onInputBlur:function(e){var a,s;(a=(s=this.formField).onBlur)===null||a===void 0||a.call(s)},onColorMousedown:function(e){this.disabled||(this.bindDragListeners(),this.onColorDragStart(e))},onColorDragStart:function(e){this.disabled||(this.colorDragging=!0,this.pickColor(e),this.$el.setAttribute("p-colorpicker-dragging","true"),!this.isUnstyled&&O(this.$el,"p-colorpicker-dragging"),e.preventDefault())},onDrag:function(e){this.colorDragging&&(this.pickColor(e),e.preventDefault()),this.hueDragging&&(this.pickHue(e),e.preventDefault())},onDragEnd:function(){this.colorDragging=!1,this.hueDragging=!1,this.$el.setAttribute("p-colorpicker-dragging","false"),!this.isUnstyled&&ie(this.$el,"p-colorpicker-dragging"),this.unbindDragListeners()},onHueMousedown:function(e){this.disabled||(this.bindDragListeners(),this.onHueDragStart(e))},onHueDragStart:function(e){this.disabled||(this.hueDragging=!0,this.pickHue(e),!this.isUnstyled&&O(this.$el,"p-colorpicker-dragging"))},isInputClicked:function(e){return this.$refs.input&&this.$refs.input.isSameNode(e.target)},bindDragListeners:function(){this.bindDocumentMouseMoveListener(),this.bindDocumentMouseUpListener()},unbindDragListeners:function(){this.unbindDocumentMouseMoveListener(),this.unbindDocumentMouseUpListener()},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(a){e.overlayVisible&&e.picker&&!e.picker.contains(a.target)&&!e.isInputClicked(a)&&(e.overlayVisible=!1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new ne(this.$refs.container,function(){e.overlayVisible&&(e.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!le()&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindDocumentMouseMoveListener:function(){this.documentMouseMoveListener||(this.documentMouseMoveListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.documentMouseMoveListener))},unbindDocumentMouseMoveListener:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null)},bindDocumentMouseUpListener:function(){this.documentMouseUpListener||(this.documentMouseUpListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseUpListener:function(){this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},pickerRef:function(e){this.picker=e},colorSelectorRef:function(e){this.colorSelector=e},colorHandleRef:function(e){this.colorHandle=e},hueViewRef:function(e){this.hueView=e},hueHandleRef:function(e){this.hueHandle=e},clearRefs:function(){this.picker=null,this.colorSelector=null,this.colorHandle=null,this.hueView=null,this.hueHandle=null},onOverlayClick:function(e){oe.emit("overlay-click",{originalEvent:e,target:this.$el})}},components:{Portal:se}};function V(t){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(t)}function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,s)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?$(Object(a),!0).forEach(function(s){Ne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ne(t,e,a){return(e=Fe(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Fe(t){var e=We(t,"string");return V(e)=="symbol"?e:e+""}function We(t,e){if(V(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,e||"default");if(V(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ye=["id","tabindex","disabled"];function Ze(t,e,a,s,i,l){var r=re("Portal");return d(),u("div",_({ref:"container",class:t.cx("root")},t.ptmi("root")),[t.inline?R("",!0):(d(),u("input",_({key:0,ref:"input",id:t.inputId,type:"text",class:t.cx("preview"),readonly:"",tabindex:t.tabindex,disabled:t.disabled,onClick:e[0]||(e[0]=function(){return l.onInputClick&&l.onInputClick.apply(l,arguments)}),onKeydown:e[1]||(e[1]=function(){return l.onInputKeydown&&l.onInputKeydown.apply(l,arguments)}),onBlur:e[2]||(e[2]=function(){return l.onInputBlur&&l.onInputBlur.apply(l,arguments)})},t.ptm("preview")),null,16,Ye)),o(r,{appendTo:t.appendTo,disabled:t.inline},{default:m(function(){return[o(de,_({name:"p-connected-overlay",onEnter:l.onOverlayEnter,onLeave:l.onOverlayLeave,onAfterLeave:l.onOverlayAfterLeave},t.ptm("transition")),{default:m(function(){return[t.inline||i.overlayVisible?(d(),u("div",_({key:0,ref:l.pickerRef,class:[t.cx("panel"),t.panelClass,t.overlayClass],onClick:e[11]||(e[11]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)})},A(A({},t.ptm("panel")),t.ptm("overlay"))),[n("div",_({class:t.cx("content")},t.ptm("content")),[n("div",_({ref:l.colorSelectorRef,class:t.cx("colorSelector"),onMousedown:e[3]||(e[3]=function(c){return l.onColorMousedown(c)}),onTouchstart:e[4]||(e[4]=function(c){return l.onColorDragStart(c)}),onTouchmove:e[5]||(e[5]=function(c){return l.onDrag(c)}),onTouchend:e[6]||(e[6]=function(c){return l.onDragEnd()})},t.ptm("colorSelector")),[n("div",_({class:t.cx("colorBackground")},t.ptm("colorBackground")),[n("div",_({ref:l.colorHandleRef,class:t.cx("colorHandle")},t.ptm("colorHandle")),null,16)],16)],16),n("div",_({ref:l.hueViewRef,class:t.cx("hue"),onMousedown:e[7]||(e[7]=function(c){return l.onHueMousedown(c)}),onTouchstart:e[8]||(e[8]=function(c){return l.onHueDragStart(c)}),onTouchmove:e[9]||(e[9]=function(c){return l.onDrag(c)}),onTouchend:e[10]||(e[10]=function(c){return l.onDragEnd()})},t.ptm("hue")),[n("div",_({ref:l.hueHandleRef,class:t.cx("hueHandle")},t.ptm("hueHandle")),null,16)],16)],16)],16)):R("",!0)]}),_:1},16,["onEnter","onLeave","onAfterLeave"])]}),_:1},8,["appendTo","disabled"])],16)}q.render=Ze;var qe=function(e){var a=e.dt;return`
.p-inputgroup,
.p-inputgroup .p-iconfield,
.p-inputgroup .p-floatlabel,
.p-inputgroup .p-iftalabel {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper {
    flex: 1 1 auto;
    width: 1%;
}

.p-inputgroupaddon {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: `.concat(a("inputgroup.addon.padding"),`;
    background: `).concat(a("inputgroup.addon.background"),`;
    color: `).concat(a("inputgroup.addon.color"),`;
    border-block-start: 1px solid `).concat(a("inputgroup.addon.border.color"),`;
    border-block-end: 1px solid `).concat(a("inputgroup.addon.border.color"),`;
    min-width: `).concat(a("inputgroup.addon.min.width"),`;
}

.p-inputgroupaddon:first-child,
.p-inputgroupaddon + .p-inputgroupaddon {
    border-inline-start: 1px solid `).concat(a("inputgroup.addon.border.color"),`;
}

.p-inputgroupaddon:last-child {
    border-inline-end: 1px solid `).concat(a("inputgroup.addon.border.color"),`;
}

.p-inputgroupaddon:has(.p-button) {
    padding: 0;
    overflow: hidden;
}

.p-inputgroupaddon .p-button {
    border-radius: 0;
}

.p-inputgroup > .p-component,
.p-inputgroup > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iconfield > .p-component,
.p-inputgroup > .p-floatlabel > .p-component,
.p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel > .p-component,
.p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
    border-radius: 0;
    margin: 0;
}

.p-inputgroupaddon:first-child,
.p-inputgroup > .p-component:first-child,
.p-inputgroup > .p-inputwrapper:first-child > .p-component,
.p-inputgroup > .p-iconfield:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-component,
.p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-component,
.p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
    border-start-start-radius: `).concat(a("inputgroup.addon.border.radius"),`;
    border-end-start-radius: `).concat(a("inputgroup.addon.border.radius"),`;
}

.p-inputgroupaddon:last-child,
.p-inputgroup > .p-component:last-child,
.p-inputgroup > .p-inputwrapper:last-child > .p-component,
.p-inputgroup > .p-iconfield:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-component,
.p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-component,
.p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
    border-start-end-radius: `).concat(a("inputgroup.addon.border.radius"),`;
    border-end-end-radius: `).concat(a("inputgroup.addon.border.radius"),`;
}

.p-inputgroup .p-component:focus,
.p-inputgroup .p-component.p-focus,
.p-inputgroup .p-inputwrapper-focus,
.p-inputgroup .p-component:focus ~ label,
.p-inputgroup .p-component.p-focus ~ label,
.p-inputgroup .p-inputwrapper-focus ~ label {
    z-index: 1;
}

.p-inputgroup > .p-button:not(.p-button-icon-only) {
    width: auto;
}

.p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
    border-inline-start: 0;
}
`)},Qe={root:"p-inputgroup"},et=E.extend({name:"inputgroup",theme:qe,classes:Qe}),tt={name:"BaseInputGroup",extends:U,style:et,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},Q={name:"InputGroup",extends:tt,inheritAttrs:!1};function at(t,e,a,s,i,l){return d(),u("div",_({class:t.cx("root")},t.ptmi("root")),[G(t.$slots,"default")],16)}Q.render=at;var it={root:"p-inputgroupaddon"},nt=E.extend({name:"inputgroupaddon",classes:it}),lt={name:"BaseInputGroupAddon",extends:U,style:nt,provide:function(){return{$pcInputGroupAddon:this,$parentInstance:this}}},ee={name:"InputGroupAddon",extends:lt,inheritAttrs:!1};function ot(t,e,a,s,i,l){return d(),u("div",_({class:t.cx("root")},t.ptmi("root")),[G(t.$slots,"default")],16)}ee.render=ot;const st={name:"TampilanShift",props:{id:Number,nama_shift:String,warna:String,jam_masuk:String,jam_keluar:String},emits:["editShift","deleteShift"],data(){return{items:[{label:"Edit",icon:"pi pi-pencil",theFunction:()=>this.editShift(this.id)},{label:"Delete",icon:"pi pi-trash",theFunction:()=>this.deleteShift(this.id)}]}},methods:{editShift(t){this.$emit("editShift",t)},deleteShift(t){this.$emit("deleteShift",t)},toggle(t){this.$refs.menu.toggle(t)}}},rt={class:"flex items-center gap-2"},dt=["onClick"],ut={class:"ml-2"};function ct(t,e,a,s,i,l){const r=I,c=we,g=pe;return d(),u(S,null,[n("div",{style:M({backgroundColor:a.warna}),class:"rounded-md text-white py-3 px-3 flex justify-between items-center"},[n("div",null,f(a.nama_shift),1),n("div",rt,[e[0]||(e[0]=n("i",{class:"pi pi-clock"},null,-1)),n("p",null,f(a.jam_masuk)+"-"+f(a.jam_keluar),1),o(r,{onClick:l.toggle,"aria-controls":"overlay_tmenu",icon:"pi pi-ellipsis-v",unstyled:"",class:"flex justify-center items-center"},null,8,["onClick"])])],4),o(c,{ref:"menu",id:"overlay_tmenu",model:i.items,popup:""},{item:m(({item:v,props:x})=>[ue((d(),u("div",_({onClick:v.theFunction,class:"flex items-center"},x.action),[n("span",{class:ce(v.icon)},null,2),n("span",ut,f(v.label),1)],16,dt)),[[g]])]),_:1},8,["model"])],64)}const pt=C(st,[["render",ct]]),ht={name:"CardShift",inject:["default"],data(){return{shift:[],visible:!1,dialogTitle:"",dialogDeskripsi:"",v$:Z(),hasValidated:!1,no:1,editShift:[],formPost:!1,btnIsLoading:!1,formIsLoading:!0,loading:!0,id_shift:null,nama_shift:"",jam_masuk:null,jam_keluar:null,warna:"",jam_istirahat_mulai:null,jam_istirahat_selesai:null,toleransi_keterlambatan:0}},validations(){return{nama_shift:{required:k},jam_masuk:{required:k},jam_keluar:{required:k},warna:{required:k},jam_istirahat_mulai:{required:k},jam_istirahat_selesai:{required:k},toleransi_keterlambatan:{required:k}}},methods:{formattedTime:_e,async getAllShift(){await b.get("shift").then(t=>{this.loading=!1,this.shift=t.data.data}).catch(t=>{console.log(t)})},async getShiftById(t){await b.get(`shift/${t}`).then(e=>{this.loading=!1,this.formIsLoading=!1,this.id_shift=e.data.data.id_shift,this.nama_shift=e.data.data.nama_shift,this.jam_masuk=e.data.data.jam_masuk,this.jam_keluar=e.data.data.jam_keluar,this.warna=e.data.data.warna,this.jam_istirahat_mulai=e.data.data.jam_istirahat_mulai,this.jam_istirahat_selesai=e.data.data.jam_istirahat_selesai,this.toleransi_keterlambatan=e.data.data.toleransi_keterlambatan}).catch(e=>{console.log(e)})},openPost(){this.formPost=!0,this.nama_shift="",this.jam_masuk="08:00",this.jam_keluar="17:00",this.warna="#07134f",this.jam_istirahat_mulai="12:00",this.jam_istirahat_selesai="13:00",this.toleransi_keterlambatan=0,this.formIsLoading=!1,this.visible=!0,this.dialogTitle="Tambahkan Jadwal Kerja"},async post(){this.btnIsLoading=!0,this.hasValidated=!0,this.v$.$validate();const t={nama_shift:this.nama_shift,jam_masuk:this.formattedTime(this.jam_masuk),jam_keluar:this.formattedTime(this.jam_keluar),warna:this.warna,jam_istirahat_mulai:this.formattedTime(this.jam_istirahat_mulai),jam_istirahat_selesai:this.formattedTime(this.jam_istirahat_selesai),toleransi_keterlambatan:this.toleransi_keterlambatan};await b.post("shift",t).then(e=>{this.$toast.add({severity:"success",summary:"Jadwal kerja sukses ditambahkan",detail:"Jadwal kerja telah di tambahkan",life:3e3}),this.getAllShift(),this.visible=!1,this.btnIsLoading=!1}).catch(e=>{console.log(e),console.log(t),this.btnIsLoading=!1})},async edit(t){const e={nama_shift:this.nama_shift,jam_masuk:this.formattedTime(this.jam_masuk),jam_keluar:this.formattedTime(this.jam_keluar),warna:this.warna,jam_istirahat_mulai:this.formattedTime(this.jam_istirahat_mulai),jam_istirahat_selesai:this.formattedTime(this.jam_istirahat_selesai),toleransi_keterlambatan:this.toleransi_keterlambatan};await b.patch("shift/"+t,e).then(a=>{this.visible=!1,this.$toast.add({severity:"info",summary:"Edit Berhasil",detail:"Shift Kerja Berhasil Di Edit",life:3e3}),this.getAllShift()}).catch(a=>{console.log(a)})},handleDeleteShift(t){this.$confirm.require({message:"Are you sure you want to sdfdsfdsproceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptProps:{label:"Save"},accept:()=>{this.$toast.add({severity:"info",summary:"Confirmed",detail:"You have accepted",life:3e3}),this.onDelete(t),this.getAllShift()},reject:()=>{this.$toast.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})},close(){this.visible=!1},ensureHashtag(){this.warna&&!this.warna.startsWith("#")&&(this.warna=`#${this.warna}`)},handleEditShift(t){this.formPost=!1,this.visible=!0,this.dialogTitle="Edit Jadwal Kerja",this.getShiftById(t)},async onDelete(t){await b.delete(`shift/${t}`).then(e=>{this.getAllShift()}).catch(e=>{})}},async mounted(){this.getAllShift()}},mt={class:"flex justify-between"},ft={class:"flex flex-col gap-1 h-[535px] overflow-auto"},gt={key:0,class:"col-span-12 w-full h-80 flex justify-center items-center"},bt={class:"flex items-center gap-2"},wt={key:0,class:"grid grid-cols-12 gap-5 h-96 m-5"},_t={class:"col-span-12 w-full flex justify-center items-center"},vt={key:1,class:"w-full grid grid-cols-12 gap-2"},kt={class:"col-span-12 gap-1"},yt={key:0,class:"text-red-500 w-full"},jt={key:1,class:"invisible"},St={class:"col-span-12 grid grid-cols-12 gap-2"},xt={class:"col-span-6 gap-1"},Ct=["onClick"],Lt={key:0,class:"text-red-500 w-full"},Dt={key:1,class:"invisible"},Ht={class:"col-span-6 gap-1"},It=["onClick"],Vt={key:0,class:"text-red-500 w-full"},Mt={key:1,class:"invisible"},Jt={class:"col-span-12 gap-1"},Bt={key:0,class:"text-red-500 w-full"},Pt={key:1,class:"invisible"},Et={class:"col-span-12 grid grid-cols-12 gap-2"},Kt={class:"col-span-6 gap-1"},Tt=["onClick"],Ot={key:0,class:"text-red-500 w-full"},Rt={key:1,class:"invisible"},$t={class:"col-span-6 gap-1"},At=["onClick"],Ut={key:0,class:"text-red-500 w-full"},Gt={key:1,class:"invisible"},zt={class:"col-span-12 flex flex-col gap-2"},Xt={key:0,class:"text-red-500 w-full"},Nt={key:1,class:"invisible"},Ft={class:"col-span-12 flex justify-end gap-2"};function Wt(t,e,a,s,i,l){const r=I,c=Y,g=pt,v=T,x=X,y=be,L=fe,D=ee,w=Q,p=q,H=K;return d(),u(S,null,[o(v,{class:"col-span-12 xl:col-span-4 shadow-md"},{title:m(()=>[n("div",mt,[e[10]||(e[10]=n("h3",null,"Daftar Jadwal Kerja",-1)),o(r,{icon:"pi pi-plus-circle",label:"Tambah",onClick:e[0]||(e[0]=h=>l.openPost())})])]),content:m(()=>[n("div",ft,[i.loading?(d(),u("div",gt,[o(c)])):(d(!0),u(S,{key:1},J(i.shift,h=>(d(),B(g,{key:h.id_shift,id:h.id_shift,nama_shift:h.nama_shift,warna:h.warna,jam_masuk:h.jam_masuk,jam_keluar:h.jam_keluar,onEditShift:l.handleEditShift,onDeleteShift:l.handleDeleteShift},null,8,["id","nama_shift","warna","jam_masuk","jam_keluar","onEditShift","onDeleteShift"]))),128))])]),_:1}),o(H,{visible:i.visible,"onUpdate:visible":e[9]||(e[9]=h=>i.visible=h),modal:"",header:i.dialogTitle,style:{width:"30rem"}},{default:m(()=>[n("div",{style:M({backgroundColor:i.warna}),class:"rounded-md text-white py-3 mb-4 px-3 flex justify-between"},[n("div",null,f(i.nama_shift),1),n("div",bt,[e[11]||(e[11]=n("i",{class:"pi pi-clock"},null,-1)),n("p",null,f(l.formattedTime(i.jam_masuk))+"-"+f(l.formattedTime(i.jam_keluar)),1)])],4),i.formIsLoading?(d(),u("div",wt,[n("div",_t,[o(c)])])):(d(),u("form",vt,[n("div",kt,[e[12]||(e[12]=n("label",{class:"max-h-6 col-span-12",for:"nama_shift"},[j("Nama Shift "),n("span",{class:"text-red-500"},"*")],-1)),o(x,{id:"nama_shift",modelValue:i.nama_shift,"onUpdate:modelValue":e[1]||(e[1]=h=>i.nama_shift=h),class:"w-full max-h-[46px]",invalid:i.hasValidated&&i.v$.nama_shift.$invalid},null,8,["modelValue","invalid"]),i.hasValidated&&i.v$.nama_shift.$error?(d(),u("small",yt,"Wajib Diisi")):(d(),u("small",jt,"..."))]),n("div",St,[n("div",xt,[e[13]||(e[13]=n("label",{class:"max-h-6 col-span-12",for:"jam_masuk"},[j("Jam Masuk "),n("span",{class:"text-red-500"},"*")],-1)),o(y,{inputId:"jam_masuk",modelValue:i.jam_masuk,"onUpdate:modelValue":e[2]||(e[2]=h=>i.jam_masuk=h),timeOnly:"",showIcon:"",fluid:"",iconDisplay:"input"},{inputicon:m(h=>[n("i",{class:"pi pi-clock",onClick:h.clickCallback},null,8,Ct)]),_:1},8,["modelValue"]),i.hasValidated&&i.v$.jam_masuk.$error?(d(),u("small",Lt,"Wajib Diisi")):(d(),u("small",Dt,"..."))]),n("div",Ht,[e[14]||(e[14]=n("label",{class:"max-h-6 col-span-12",for:"jam_keluar"},[j("Jam Keluar "),n("span",{class:"text-red-500"},"*")],-1)),o(y,{inputId:"jam_keluar",modelValue:i.jam_keluar,"onUpdate:modelValue":e[3]||(e[3]=h=>i.jam_keluar=h),timeOnly:"",showIcon:"",fluid:"",iconDisplay:"input"},{inputicon:m(h=>[n("i",{class:"pi pi-clock",onClick:h.clickCallback},null,8,It)]),_:1},8,["modelValue"]),i.hasValidated&&i.v$.jam_keluar.$error?(d(),u("small",Vt,"Wajib Diisi")):(d(),u("small",Mt,"..."))])]),n("div",Jt,[e[16]||(e[16]=n("label",{class:"max-h-6 col-span-12",for:"toleransi_keterlambatan"},[j("Toleransi Keterlambatan "),n("span",{class:"text-red-500"},"*")],-1)),o(w,null,{default:m(()=>[o(L,{inputId:"toleransi_keterlambatan",modelValue:i.toleransi_keterlambatan,"onUpdate:modelValue":e[4]||(e[4]=h=>i.toleransi_keterlambatan=h)},null,8,["modelValue"]),o(D,null,{default:m(()=>e[15]||(e[15]=[j("Menit")])),_:1})]),_:1}),i.hasValidated&&i.v$.toleransi_keterlambatan.$error?(d(),u("small",Bt,"Wajib Diisi")):(d(),u("small",Pt,"..."))]),n("div",Et,[n("div",Kt,[e[17]||(e[17]=n("label",{class:"max-h-6 col-span-12",for:"jam_istirahat_mulai"},[j("Jam Istirahat Mulai "),n("span",{class:"text-red-500"},"*")],-1)),o(y,{inputId:"jam_istirahat_mulai",modelValue:i.jam_istirahat_mulai,"onUpdate:modelValue":e[5]||(e[5]=h=>i.jam_istirahat_mulai=h),timeOnly:"",showIcon:"",fluid:"",iconDisplay:"input"},{inputicon:m(h=>[n("i",{class:"pi pi-clock",onClick:h.clickCallback},null,8,Tt)]),_:1},8,["modelValue"]),i.hasValidated&&i.v$.jam_istirahat_mulai.$error?(d(),u("small",Ot,"Wajib Diisi")):(d(),u("small",Rt,"..."))]),n("div",$t,[e[18]||(e[18]=n("label",{class:"max-h-6 col-span-12",for:"jam_istirahat_selesai"},[j("Jam Istirahat Selesai "),n("span",{class:"text-red-500"},"*")],-1)),o(y,{inputId:"jam_istirahat_selesai",modelValue:i.jam_istirahat_selesai,"onUpdate:modelValue":e[6]||(e[6]=h=>i.jam_istirahat_selesai=h),timeOnly:"",showIcon:"",fluid:"",iconDisplay:"input"},{inputicon:m(h=>[n("i",{class:"pi pi-clock",onClick:h.clickCallback},null,8,At)]),_:1},8,["modelValue"]),i.hasValidated&&i.v$.jam_istirahat_selesai.$error?(d(),u("small",Ut,"Wajib Diisi")):(d(),u("small",Gt,"..."))])]),n("div",zt,[e[19]||(e[19]=n("label",{class:"max-h-6 col-span-12",for:"warna"},[j("Warna Background "),n("span",{class:"text-red-500"},"*")],-1)),o(p,{modelValue:i.warna,"onUpdate:modelValue":e[7]||(e[7]=h=>i.warna=h),inputId:"warna",format:"hex",class:"col-span-12",inline:"",onChange:l.ensureHashtag},null,8,["modelValue","onChange"]),i.hasValidated&&i.v$.warna.$error?(d(),u("small",Xt,"Wajib Diisi")):(d(),u("small",Nt,"..."))]),n("div",Ft,[o(r,{type:"button",label:"Cancel",severity:"secondary",onClick:l.close},null,8,["onClick"]),i.formPost?(d(),B(r,{key:1,type:"button",label:"Tambahkan",loading:i.btnIsLoading,onClick:l.post},null,8,["loading","onClick"])):(d(),B(r,{key:0,type:"button",label:"Edit",loading:i.btnIsLoading,onClick:e[8]||(e[8]=h=>l.edit(i.id_shift))},null,8,["loading"]))])]))]),_:1},8,["visible","header"])],64)}const Yt=C(ht,[["render",Wt]]),Zt={name:"CardJadwalPegawai",data(){return{columns:[{field:"nama_pegawai",header:"Nama Pegawai"},{field:"jadwal.nama_jadwal",header:"Nama Jadwal"}],visible:!1,data:[],pegawai:null,daftarPegawai:null,phPegawai:"Loading...",loadingPegawai:!0,jadwalKerja:null,daftarJadwalkerja:null,phJadwalKerja:"Loading...",loadingJadwalKerja:!0,v$:Z(),hasValidated:!1,dialogTitle:"",isEdit:!1,formIsLoading:!1}},validations(){return{id_jadwal:{required:k},id_pegawai:{required:k}}},methods:{async getAllJadwal(){try{this.data=await N("/jadwal/pegawai"),this.isLoading=!1}catch(t){console.error("Failed to fetch data:",t)}},toggleJadwalPegawai(){this.visible=!this.visible,this.visible===!0&&(this.loadingPegawai=!0,this.loadingJadwalKerja=!0,this.phPegawai="Loading...",this.phJadwalKerja="Loading...")},handleEdit(t,e){this.toggleJadwalPegawai(),this.dialogTitle="Edit Jadwal Pegawai",this.getPegawaiAll(),this.getJadwalKerja(),this.isEdit=!0,this.formIsLoading=!1,this.getJadwalPegawaiById(e,t)},openPost(){this.isEdit=!1,this.pegawai=null,this.jadwalKerja=null,this.phPegawai="Pilih pegawai",this.phJadwalKerja="Pilih jadwal kerja",this.toggleJadwalPegawai(),this.getJadwalKerja(),this.getPegawaiAll(),this.dialogTitle="Tambah Jadwal Pegawai"},async post(){this.toggleJadwalPegawai();const t={id_pegawai:this.pegawai.id_pegawai,id_jadwal:this.jadwalKerja.id_jadwal};this.hasValidated=!0,await b.put("/jadwal/pegawai",t).then(e=>{this.$toast.add({severity:"success",summary:"Success",detail:e.data.message,life:3e3}),this.pegawai=null,this.jadwalKerja=null,this.getAllJadwal()}).catch(e=>{console.log(e),this.$toast.add({severity:"error",summary:"Error",detail:e,life:3e3})})},async getPegawaiAll(){try{const t=await b.get("pegawai");this.daftarPegawai=t.data.data,this.loadingPegawai=!1,this.phPegawai="Pilih pegawai"}catch(t){console.log("Error:"+t),this.phPegawai="Error",this.loadingPegawai=!1}},async getJadwalKerja(){await b.get("jadwal").then(t=>{this.daftarJadwalkerja=t.data.data,this.loadingJadwalKerja=!1,this.phJadwalKerja="Pilih Jadwal Kerja"}).catch(t=>{console.log("Error:"+t),this.phJadwalKerja="Error"})},async getJadwalPegawaiById(t,e){await b.get("/jadwal/pegawai/detail",{params:{id_jadwal:t,id_pegawai:e}}).then(a=>{this.phPegawai=a.data.data.nama_pegawai,this.formIsLoading=!1,this.pegawai=a.data.data,this.jadwalKerja=a.data.data.jadwal,this.phJadwalKerja=a.data.data.jadwal.nama_jadwal}).catch(a=>{console.log("Error:"+a)})}},mounted(){this.getAllJadwal()}},qt={class:"flex justify-between"},Qt={class:"flex gap-2"},ea={class:"flex gap-2 bg-white"},ta={key:0,class:"grid grid-cols-12 gap-5 h-40 m-5"},aa={class:"col-span-12 w-full flex justify-center items-center"},ia={key:1,class:""},na={class:"flex justify-end gap-2"};function la(t,e,a,s,i,l){const r=I,c=W,g=F,v=T,x=Y,y=ge,L=z,D=K;return d(),u(S,null,[o(v,{class:"col-span-12 xl:col-span-8 shadow-md"},{title:m(()=>[n("div",qt,[e[4]||(e[4]=n("h3",null,"Jadwal Pegawai",-1)),n("div",Qt,[o(r,{icon:"pi pi-plus-circle",label:"Tambah",onClick:e[0]||(e[0]=w=>l.openPost())})])])]),content:m(()=>[o(g,{columns:i.columns,api:"/jadwal/pegawai",id:"id",dataLuar:i.data,onOpenEdit:l.handleEdit,deleteAble:!1,cusAction:!0},{default:m(()=>[o(c,{header:"Action",frozen:"",alignFrozen:"right",style:{width:"100px"}},{body:m(w=>[n("div",ea,[o(r,{icon:"pi pi-pencil",severity:"info","aria-label":"Edit",onClick:p=>l.handleEdit(w.data.id_pegawai,w.data.jadwal.id_jadwal)},null,8,["onClick"])])]),_:1})]),_:1},8,["columns","dataLuar","onOpenEdit"])]),_:1}),o(D,{visible:i.visible,"onUpdate:visible":e[3]||(e[3]=w=>i.visible=w),modal:"",header:i.dialogTitle,style:{width:"40rem"}},{default:m(()=>[e[5]||(e[5]=n("span",{class:"text-surface-500 dark:text-surface-400 block mb-8"},"Pilih pegawai dan jadwal kerja yang ingin diedit.",-1)),i.formIsLoading?(d(),u("div",ta,[n("div",aa,[o(x)])])):(d(),u("form",ia,[o(L,{name:"nama_lengkap",label:"Pilih Pegawai",hasValidated:i.hasValidated},{default:m(()=>[o(y,{class:"col-span-12 max-h-[46px]",disabled:i.isEdit,modelValue:i.pegawai,"onUpdate:modelValue":e[1]||(e[1]=w=>i.pegawai=w),options:i.daftarPegawai,optionLabel:"nama_lengkap",loading:i.loadingPegawai,placeholder:i.phPegawai,filter:""},null,8,["disabled","modelValue","options","loading","placeholder"])]),_:1},8,["hasValidated"]),o(L,{name:"nama_jadwal",label:"Pilih Jadwal Kerja",hasValidated:i.hasValidated},{default:m(()=>[o(y,{class:"col-span-12",modelValue:i.jadwalKerja,"onUpdate:modelValue":e[2]||(e[2]=w=>i.jadwalKerja=w),options:i.daftarJadwalkerja,optionLabel:"nama_jadwal",loading:i.loadingJadwalKerja,placeholder:i.phJadwalKerja,filter:""},null,8,["modelValue","options","loading","placeholder"])]),_:1},8,["hasValidated"]),n("div",na,[o(r,{type:"button",label:"Cancel",severity:"secondary",onClick:l.toggleJadwalPegawai},null,8,["onClick"]),o(r,{type:"button",label:"Save",onClick:l.post},null,8,["onClick"])])]))]),_:1},8,["visible","header"])],64)}const oa=C(Zt,[["render",la]]),sa={name:"Jadwal"},ra={class:"grid grid-cols-12 m-5 gap-5 mb-24 lg:mb-5"};function da(t,e,a,s,i,l){const r=ve,c=oa,g=Yt,v=Ae;return d(),u("div",ra,[o(r,{title:"Jadwal"}),o(c),o(g),o(v)])}const Va=C(sa,[["render",da]]);export{Va as default};
